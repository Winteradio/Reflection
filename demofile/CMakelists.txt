# ------ Set the basic options for the demo project ------- #
message(STATUS "# Set the basic options for the demo project")

cmake_minimum_required(VERSION 3.20)
project(Demofile LANGUAGES CXX)

include(${CMAKE_CURRENT_SOURCE_DIR}/../cmake/Project.cmake)
project_options()

# ------ Create the executable program ------ #
if (WIN32)
    message(STATUS "- Demo Platform : Windows")
    add_executable(${PROJECT_NAME} WIN32)
else ()
    message(STATUS "- Demo Platform : Others")
    add_executable(${PROJECT_NAME})
endif()

# ------ Load the extenral project ------ #
include(${CMAKE_CURRENT_SOURCE_DIR}/../cmake/ExternalProject.cmake)

# ------ Load the log project ------ #
add_external_library(
    PROJECT_NAME LogProject_Demo
    LIBRARY_NAME LogProject
    GIT_REPOSITORY https://github.com/Winteradio/Log.git
    BUILD_SHARED_LIBS ON
)

# ------ Set the properties the executable program ------ #
set(MAIN_DIR ${CMAKE_CURRENT_SOURCE_DIR})

set(HEADER_LIST 
    ${MAIN_DIR}/../MethodReflection
    ${MAIN_DIR}/../PropertyReflection
    ${MAIN_DIR}/../TypeReflection
)

target_sources(${PROJECT_NAME} PRIVATE
    ${MAIN_DIR}/main.cpp
)

target_include_directories(${PROJECT_NAME} PUBLIC ${HEADER_LIST})
target_link_libraries(${PROJECT_NAME} PRIVATE ReflectionProject)